{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 5,
  "summary": "Mobile-friendly web app (English, simple language) for farmers to track labour attendance using a color-coded calendar grid and calculate wages/payroll.",
  "architectural_notes": [
    "Attendance recorded per worker per date using a small set of discrete status values mapped to colors (full/half/morning-evening/absent).",
    "Payroll calculations: effective days = full + 0.5*half; payable = full*wage + half*(wage/2); optional advance deduction."
  ],
  "known_issues": [
    "Attendance marking flow may be saving/setting an incorrect status (\"wrong mark\") when the user selects an attendance option."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-create-a-simple-mobile-friendly-top-navigation-and-page-structure-with-these-routes-home-dashboard-calendar-attendance-workers-list-calculator-payroll-use-clear-english-labels-home-calendar-workers-calculator",
      "title": "Create a simple, mobile-friendly top navigation and page structure with these routes: Home/Dashboard, Calendar/Attendance, Workers List, Calculator/Payroll. Use clear English labels: \"Home\", \"Calendar\", \"Workers\", \"Calculator\".",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-home-dashboard-page-with-a-welcome-headline-farm-labour-attendance-tracker-for-my-father-and-farmers-and-two-primary-actions-view-calendar-and-add-new-worker-that-navigate-to-the-calendar-and-workers-pages-respectively",
      "title": "Implement the Home/Dashboard page with a welcome headline: \"Farm Labour Attendance Tracker - For my father and farmers\" and two primary actions: \"View Calendar\" and \"Add New Worker\" that navigate to the Calendar and Workers pages respectively.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-build-the-workers-list-page-ui-an-add-worker-form-name-optional-phone-daily-wage-in-rupees-and-a-list-table-of-workers-with-edit-and-delete-actions",
      "title": "Build the Workers List page UI: an \"Add Worker\" form (name, optional phone, daily wage in rupees) and a list/table of workers with edit and delete actions.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-build-the-calendar-attendance-page-as-the-primary-screen-a-left-sidebar-monthly-calendar-month-year-navigation-and-a-main-grid-where-rows-are-workers-and-columns-are-the-days-in-the-selected-month-1-28-29-30-31-each-cell-is-clickable-and-reflects-the-saved-attendance-status-by-color",
      "title": "Build the Calendar/Attendance page as the primary screen: a left sidebar monthly calendar (month/year navigation) and a main grid where rows are workers and columns are the days in the selected month (1..28/29/30/31). Each cell is clickable and reflects the saved attendance status by color.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-on-the-calendar-attendance-page-clicking-a-worker-date-cell-must-open-a-quick-selector-with-exactly-four-options-full-red-half-green-morning-evening-black-absent-clear-white-selecting-an-option-saves-the-mark-auto-save-and-immediately-updates-the-cell-color",
      "title": "On the Calendar/Attendance page, clicking a worker-date cell must open a quick selector with exactly four options: Full (red), Half (green), Morning-Evening (black), Absent/Clear (white). Selecting an option saves the mark (auto-save) and immediately updates the cell color.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-monthly-per-worker-summary-on-the-calendar-attendance-page-showing-total-full-days-total-half-days-total-attendance-days-half-counts-as-0-5-and-total-amount-payable-full-wage-half-wage-2-for-the-selected-month",
      "title": "Add a monthly per-worker summary on the Calendar/Attendance page showing: total full days, total half days, total attendance days (half counts as 0.5), and total amount payable (full × wage + half × wage/2) for the selected month.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-calculator-payroll-page-select-a-worker-from-a-dropdown-select-a-date-range-quick-option-this-month-plus-a-custom-from-to-selector-show-calculated-totals-full-days-half-days-payable-amount-include-an-optional-advance-paid-numeric-input-and-show-net-payable-payable-advance",
      "title": "Implement the Calculator/Payroll page: select a worker from a dropdown; select a date range (quick option: \"This month\" plus a custom from-to selector). Show calculated totals: full days, half days, payable amount. Include an optional \"Advance paid\" numeric input and show \"Net payable\" = payable - advance.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-coherent-visual-theme-that-is-simple-high-contrast-and-trustworthy-with-a-light-background-large-text-and-large-buttons-include-subtle-farming-related-iconography-tractor-plants-workers-while-keeping-the-ui-uncluttered-and-easy-for-non-technical-rural-users",
      "title": "Apply a coherent visual theme that is simple, high-contrast, and trustworthy with a light background, large text, and large buttons; include subtle farming-related iconography (tractor/plants/workers) while keeping the UI uncluttered and easy for non-technical rural users.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-optional-basic-app-lock-for-family-use-a-single-shared-passcode-that-can-be-set-and-then-required-to-access-the-app-on-subsequent-visits-simple-lock-unlock-flow",
      "title": "Add an optional basic app lock for family use: a single shared passcode that can be set and then required to access the app on subsequent visits (simple lock/unlock flow).",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-attendance-quick-selector-so-that-choosing-the-4th-option-the-absent-option-selected-element-xpath-html-1-body-1-div-1-div-1-main-1-div-1-div-3-div-2-div-4-div-1-saves-the-correct-attendance-status-instead-of-saving-clearing-the-wrong-mark",
      "title": "Fix the attendance quick-selector so that choosing the 4th option (the “Absent” option; selected element XPath: /html[1]/body[1]/div[1]/div[1]/main[1]/div[1]/div[3]/div[2]/div[4]/div[1]) saves the correct attendance status instead of saving/clearing the wrong mark.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-frontend-attendance-selector-logic-so-that-the-absent-option-no-longer-uses-the-clearattendance-flow-and-instead-uses-setattendance-with-attendancestatus-absent-and-adjust-any-user-facing-toast-text-for-this-option-to-be-correct-english",
      "title": "Update the frontend attendance selector logic so that the “Absent” option no longer uses the clearAttendance flow and instead uses setAttendance with AttendanceStatus.absent, and adjust any user-facing toast text for this option to be correct English.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Home/Dashboard with welcome message and quick actions plus simple top navigation (Home, Calendar, Workers List, Calculator)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Workers List page: add/edit/delete workers with name, optional phone, and daily wage rate (rupees)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Main Calendar/Attendance page: monthly calendar navigation + worker-by-date grid with clickable cells",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Attendance status selector with 4 states mapped to colors (Full=red, Half=green, Morning-Evening=black, Absent/clear=white) and save behavior",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Monthly per-worker summary: totals for full/half/effective days and calculated payable amount (half=0.5 day)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Calculator/Payroll page: select worker and date range; compute totals and payable amount; optional advance paid deduction",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Simple, readable UI theme: large text/buttons, high-contrast colors, light background, farming-related icons; mobile-first but desktop-friendly",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Optional basic login (simple username/password for family use)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Add backend data models and CRUD methods to manage workers with fields: id, name (required), phone (optional), dailyWageRupees (required number). Support creating, listing, updating, and deleting workers.",
      "reqIds": [
        "REQ-3"
      ],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Implement backend storage for attendance marks per worker per date with four statuses: Full (red), Half (green), Morning-Evening (black), Absent/Unmarked (white/clear). Provide methods to set/unset an attendance mark for a worker on a specific date and to query marks by month and by date range.",
      "reqIds": [
        "REQ-5"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Farm Labour Attendance Tracker",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}